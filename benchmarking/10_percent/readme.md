# Overview

**Problem link:** [Project Euler Problem 862](https://projecteuler.net/problem=862)

Explanations below follow the solution generated by ChatGPT (`solution_chat.py`). For this particular problem, Gemini and Claude also produces working code that delivered the correct response.

---

## 1. Problem statement

For an integer $n$, let $T(n)$ be the number of rearrangements of its digits (no leading zeros allowed) that 
are **strictly larger** than $n$. 

Example:  
- For $n = 2302$, the valid permutations are:
`2023, 2032, 2203, 2230, 2302, 2320, 3022, 3202, 3220`.
- Of these, 4 are larger than `2302`. 
- So $T(2302) = 4$.

Then, define $S(k)$ as the sum of $T(n)$ over **all k-digit numbers**. For example, $S(3) = 1701$.  

**Task:** Compute $S(12)$.

---

## 2. High-level strategy

Instead of checking every single number, group numbers according to the digits they contain. 

- We only care about unique permutations - exchanging the same digit doesn't generare a new number.  
- We also need to ensure that a permutation is valid - no leading zeros.
- From this subset of all possible permutations, we're interested in how many pairs $(x, y)$ with $x < y$ can be formed.  


Thus, we just need to:
1. Enumerate all possible digit-count combinations for $k$ digits.
2. For each combination, count how many valid `k`-digit numbers can be formed ($P$).
3. Add up counts of possible pairs. There are $\binom{P}{2}$ of those.

---

## 3. The math behind the solution

If the digit counts are $(c_0, c_1, \ldots, c_9)$ with $\sum c_i = k$, then:

- Ignoring the “no leading zero” restriction, there are $$\frac{k!}{c_0! \, c_1! \cdots c_9!}$$ total permutations.
- With the restriction, there are $$\frac{(k-1)!}{(c_a-1)! \prod_{d!=a} c_d!}$$ for each nonzero digit $a$.
- $P(c)$ can be calculated as the sum of all such permutation for all possible leading digits $a$ (i.e. 1-9)

---

## 4. Techniques used to increase algorithmic efficiency 

List not necessarily comprehensive.

- Precompute factorials up to $k$ for efficiency.
- Recursive enumeration of digit counts

---
