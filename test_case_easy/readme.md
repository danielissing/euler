# Overview [not yet reviewed]

**Problem link:** [Project Euler Problem 800](https://projecteuler.net/problem=800)  

This file describes a "best of both worlds" approach created from solutions that were generated by three different LLMs. See `solution_hybrid.py` for the code. All the other scripts should work, too.

## 1. **Problem statement**  

Define a *hybrid* integer as the product $p^q q^p$ for primes $p \neq q$, and define $C(n)$ as the number of hybrid integers $\leq n$.

**Task:** Compute $C(800800^{800800})$.

## 2. **High-level solution idea**  

- Generate list of primes using the sieve of Eratosthenes up to a maximum bound
- Work in log-space to avoid having to deal with huge integers
- Use a two-pointer sweep to find unordered pairs $(p,q)$ that satisfy the constraint: start with small $p$ and large $q$ and gradually have them converge as long as $p \leq q$.


## 3. **The math behind the solution**  

- $p^q q^p \leq n \rightarrow q \ln p + p \ln q \leq \ln n$
- If $p$ is the smaller of the two digits, then a maximum value for q is $\ln n / \ln 2$.
- If $p$ is the prime number at index $i$ and $q$ the prime number at index $j$ and $(p,q)$ is a valid pair, we can immediately conclude that there are $j-i$ such pairs for $q$ fixed, thanks to how the two-pointer sweep is set up.

## 4. **Techniques used to increase algorithmic efficiency**  

- precompute logarithm of primes before executing two-pointer sweep
- use bytearray for sieve of Eratosthenes
